<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Douban API test</title>
<style type="text/css">
body { margin:0;padding:0;}
</style>
<script type="text/javascript" src="http://yui.yahooapis.com/combo?2.8.1/build/yuiloader-dom-event/yuiloader-dom-event.js"></script> 
</head>

<body>
<h1>Douban API test</h1>
<div id="container"></div>
<script>
DB = {
		apikey : 'apikey',
		baseUrl: 'http://api.douban.com/'
	 };	
function callback(o){
	alert(o);
}
function failureCb(){
	alert('request failure!');
}
function makeRequest(){
	var queryUrl = DB.baseUrl 
					+ 'book/subjects?alt=xd&apikey=' 
					+ DB.apikey + '&tag=奥威尔&start-index=1&max-results=5&callback=callback';
	alert(queryUrl);
	YAHOO.util.Get.script(queryUrl, {onFailure:failureCb,onTimeout:failureCb,timeout: 5000});
}
</script>
<form><input type="button" value="Send a GET Request" onClick="makeRequest();"></form>
</body>
</html>